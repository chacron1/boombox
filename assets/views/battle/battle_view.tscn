[gd_scene format=3 uid="uid://ccf3hpy0d1sn2"]

[ext_resource type="PackedScene" uid="uid://bmw31ta0ab4r6" path="res://assets/core/metronome/metronome.tscn" id="1_pi0d8"]
[ext_resource type="Script" uid="uid://0plxqx7egrjy" path="res://assets/views/battle/battle_view.gd" id="1_sm54i"]
[ext_resource type="Resource" uid="uid://4xvoky2bc6qa" path="res://assets/views/battle/shared/act.tres" id="2_llhay"]
[ext_resource type="PackedScene" uid="uid://b52mbl5udftpd" path="res://assets/core/dancer/dancer.tscn" id="2_sm54i"]
[ext_resource type="Script" uid="uid://c8mnej0tb5xe3" path="res://assets/views/battle/background.gd" id="3_dsrnl"]
[ext_resource type="PackedScene" uid="uid://bqrp3riftyx08" path="res://assets/core/conductor/conductor.tscn" id="3_llhay"]
[ext_resource type="Resource" uid="uid://bsloty3tlss5m" path="res://assets/views/battle/shared/act_turns.tres" id="3_qkdf3"]
[ext_resource type="Resource" uid="uid://cb8t4a0uh3sni" path="res://assets/core/conductor/track_info.tres" id="4_cju6s"]
[ext_resource type="Resource" uid="uid://c8nuekwelybs8" path="res://assets/core/conductor/shared/pitch.tres" id="5_yakm4"]
[ext_resource type="PackedScene" uid="uid://cqqgae2txdxdj" path="res://assets/core/combos/combo_check.tscn" id="6_3bar6"]
[ext_resource type="Resource" uid="uid://cb5gq2wy4uayy" path="res://assets/core/conductor/shared/volume_metronome.tres" id="6_hfmib"]
[ext_resource type="PackedScene" uid="uid://bgpkfdo2e2ba2" path="res://assets/views/enemy/enemy_view.tscn" id="7_cju6s"]
[ext_resource type="Resource" uid="uid://c6j5k4lc7s0uu" path="res://assets/core/conductor/shared/volume_kick.tres" id="7_hn5kw"]
[ext_resource type="Texture2D" uid="uid://bdnu1fgb628at" path="res://assets/views/battle/city_scape.png" id="7_jbhyw"]
[ext_resource type="Resource" uid="uid://yi8rbnuhwerh" path="res://assets/core/conductor/shared/volume_bass.tres" id="8_ndljf"]
[ext_resource type="Resource" uid="uid://bo53sh3frhlqk" path="res://assets/core/conductor/shared/volume_lead.tres" id="9_d2y41"]
[ext_resource type="PackedScene" uid="uid://b8d6jk4ecb82a" path="res://assets/ui/cross/cross.tscn" id="9_yuouc"]
[ext_resource type="Resource" uid="uid://dj8gkxdg6kb2" path="res://assets/core/conductor/shared/volume_atmos.tres" id="10_um55b"]
[ext_resource type="PackedScene" uid="uid://c08084f6b8lym" path="res://assets/ui/countdown/countdown.tscn" id="11_buwy7"]
[ext_resource type="PackedScene" uid="uid://ee7dgellbfiw" path="res://assets/ui/attacks/attack.tscn" id="11_ym50n"]
[ext_resource type="Texture2D" uid="uid://ca1cmo4b43e5l" path="res://resources/bg.svg" id="12_d2y41"]
[ext_resource type="Material" uid="uid://ce6x5arrkgaq3" path="res://assets/backgrounds/intense/intense.tres" id="13_qouyv"]
[ext_resource type="Texture2D" uid="uid://b2amj1tijc3vm" path="res://resources/city_01.svg" id="13_um55b"]
[ext_resource type="Texture2D" uid="uid://ck2fcy4rvjbco" path="res://resources/city_02.svg" id="14_qouyv"]
[ext_resource type="Texture2D" uid="uid://df64tohmtxojm" path="res://resources/city_03.svg" id="15_kiqmd"]

[node name="BattleView" type="Node" unique_id=1991368807]
script = ExtResource("1_sm54i")
_current_act = ExtResource("2_llhay")
_act_turns = ExtResource("3_qkdf3")
_track_info = ExtResource("4_cju6s")
pitch = ExtResource("5_yakm4")
volume_metronome = ExtResource("6_hfmib")
volume_kick = ExtResource("7_hn5kw")
volume_bass = ExtResource("8_ndljf")
volume_lead = ExtResource("9_d2y41")
volume_atmos = ExtResource("10_um55b")

[node name="Background" type="CanvasLayer" parent="." unique_id=1960419885]

[node name="ShaderBackground" type="TextureRect" parent="Background" unique_id=1888189056]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("3_dsrnl")
_current_act = ExtResource("2_llhay")

[node name="TextureRect" type="TextureRect" parent="Background" unique_id=1351767087]
visible = false
texture_filter = 2
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -240.0
offset_right = 240.0
offset_bottom = 160.0
grow_horizontal = 2
texture = ExtResource("12_d2y41")

[node name="TextureRect2" type="TextureRect" parent="Background" unique_id=2043084703]
texture_filter = 2
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -240.0
offset_right = 240.0
offset_bottom = 160.0
grow_horizontal = 2
texture = ExtResource("13_um55b")

[node name="TextureRect3" type="TextureRect" parent="Background" unique_id=453809193]
visible = false
texture_filter = 2
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -240.0
offset_right = 240.0
offset_bottom = 160.0
grow_horizontal = 2
texture = ExtResource("14_qouyv")

[node name="TextureRect4" type="TextureRect" parent="Background" unique_id=2125131811]
texture_filter = 2
material = ExtResource("13_qouyv")
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -240.0
offset_right = 240.0
offset_bottom = 160.0
grow_horizontal = 2
texture = ExtResource("15_kiqmd")

[node name="GameLayer" type="CanvasLayer" parent="." unique_id=1630036316]

[node name="Metronome" parent="GameLayer" unique_id=908407237 instance=ExtResource("1_pi0d8")]

[node name="Sprite2D" type="Sprite2D" parent="GameLayer" unique_id=2061969137]
visible = false
position = Vector2(240, 77)
scale = Vector2(1, 0.8)
texture = ExtResource("7_jbhyw")
offset = Vector2(0, -64)

[node name="SubViewportContainer" type="SubViewportContainer" parent="GameLayer" unique_id=1573744773]
custom_minimum_size = Vector2(480, 270)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="EnemyView" parent="GameLayer/SubViewportContainer" unique_id=515084632 instance=ExtResource("7_cju6s")]
unique_name_in_owner = true
handle_input_locally = false
render_target_update_mode = 4

[node name="Dancer" parent="GameLayer" unique_id=685967673 node_paths=PackedStringArray("audio_players") instance=ExtResource("2_sm54i")]
position = Vector2(240, 244)
audio_players = {
&"Bom": NodePath("BomPlayer"),
&"Dibi": NodePath("DibiPlayer"),
&"Wub": NodePath("WubPlayer"),
&"Yah": NodePath("YahPlayer")
}

[node name="UI" type="CanvasLayer" parent="." unique_id=1798376989]

[node name="Cross" parent="UI" unique_id=83670819 instance=ExtResource("9_yuouc")]
position = Vector2(419.00003, 197.00002)
rotation = -0.17453292
scale = Vector2(0.9, 0.9)

[node name="Countdown" parent="UI" unique_id=1480208571 instance=ExtResource("11_buwy7")]
offset_left = -1.0
offset_right = -1.0

[node name="Attack" parent="UI" unique_id=929673840 instance=ExtResource("11_ym50n")]

[node name="Conductor" parent="." unique_id=435070806 instance=ExtResource("3_llhay")]
unique_name_in_owner = true

[node name="ComboCheck" parent="." unique_id=855988861 instance=ExtResource("6_3bar6")]
